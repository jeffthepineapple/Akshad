<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Akshad’s Soundboard</title>

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

<style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
        font-family: 'Poppins', sans-serif;
        display: flex; flex-direction: column; align-items: center;
        padding: 40px 20px; min-height: 100vh;
        background-color: #1a1a2e;
        background-image:
            radial-gradient(at 27% 37%, hsla(215, 98%, 61%, 0.2) 0px, transparent 50%),
            radial-gradient(at 97% 21%, hsla(125, 98%, 72%, 0.2) 0px, transparent 50%),
            radial-gradient(at 52% 99%, hsla(355, 98%, 61%, 0.2) 0px, transparent 50%),
            radial-gradient(at 10% 29%, hsla(256, 96%, 67%, 0.2) 0px, transparent 50%);
        background-attachment: fixed;
        color: #f0f0f0;
    }
    #title-container {
        text-align: center;
        margin-bottom: 40px;
    }
    #title-container h1 {
        font-size: 2.5rem; /* Slightly smaller for a cleaner look */
        font-weight: 600;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    .youtube-link {
        display: inline-block;
        margin-top: 15px;
        color: #e0e0e0; /* Use a slightly softer white for the icon */
        transition: transform 0.2s ease, color 0.2s ease;
    }
    .youtube-link:hover {
        transform: scale(1.1);
        color: #fff; /* Brighten on hover */
    }
    #soundboard {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); /* Slightly smaller tiles */
        gap: 18px;
        width: 100%;
        max-width: 960px;
    }
    .sound-container {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        padding: 15px; /* Unified padding */
        text-align: center;
        transition: background 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
    }
    .sound-container:hover {
        background: rgba(255, 255, 255, 0.15);
        transform: translateY(-4px);
    }
    .sound-container.playing {
        box-shadow: 0 0 0 2px rgba(0,123,255,.7); /* Glow is slightly thinner */
    }
    .sound-name {
        font-weight: 500;
        font-size: 0.9rem; /* Smaller font for the name */
        margin-bottom: 12px; /* Reduced space */
        text-transform: capitalize;
        color: #fff;
        text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }
    .controls {
        display: flex;
        justify-content: center;
        gap: 8px; /* Tighter button spacing */
    }
    .control-button {
        border: none;
        border-radius: 50%;
        width: 36px;  /* --- SMALLER --- */
        height: 36px; /* --- SMALLER --- */
        font-size: 1rem; /* --- SMALLER --- */
        color: #fff;
        cursor: pointer;
        transition: background-color .2s, transform .1s;
        display: flex;
        align-items: center;
        justify-content: center;
        -webkit-tap-highlight-color: transparent;
    }
    .control-button:active {
        transform: scale(0.95);
    }
    .play-button { background-color: rgba(0, 123, 255, 0.7); }
    .play-button:hover { background-color: rgba(0, 123, 255, 1); }
    .pause-button { background-color: rgba(220, 53, 69, 0.7); }
    .pause-button:hover { background-color: rgba(220, 53, 69, 1); }
</style>
</head>

<body>
    <div id="title-container">
        <h1>Akshad’s Soundboard</h1>
        <!-- YouTube Icon Link -->
        <a href="https://www.youtube.com/@AkshadFanPage" target="_blank" rel="noopener noreferrer" class="youtube-link" aria-label="Visit Akshad's Fan Page on YouTube">
            <svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12.04,22.09c-0.12,0-0.24-0.01-0.36-0.04c-5.91-1.05-10.18-6.04-10.18-12.05c0-6.63,5.37-12,12-12s12,5.37,12,12 c0,5.92-4.14,10.87-9.89,11.96C12.44,22.06,12.24,22.09,12.04,22.09z M12,2.09c-5.51,0-10,4.49-10,10c0,5.1,3.53,9.33,8.35,9.88 c4.93,0.56,9.15-3.07,9.15-7.88c0-4.41-3.59-8-8-8s-8,3.59-8,8c0,0.55,0.45,1,1,1s1-0.45,1-1c0-3.31,2.69-6,6-6s6,2.69,6,6 c0,4.02-2.69,7.3-6.28,7.82c-0.12,0.02-0.24,0.02-0.36,0.02c-4.41,0-8-3.59-8-8c0-0.55-0.45-1-1-1s-1,0.45-1,1 c0,5.51,4.49,10,10,10c0.12,0,0.24,0,0.36-0.01c5.1-0.81,8.64-5.32,8.64-10.49C21.5,6.47,17.2,2.5,12,2.09z"/>
                <path d="M9.75,15.59c-0.21,0-0.42-0.08-0.58-0.25c-0.3-0.32-0.29-0.83,0.03-1.13l5.5-5.16c0.32-0.3,0.83-0.29,1.13,0.03 c0.3,0.32,0.29,0.83-0.03,1.13l-5.5,5.16C10.1,15.55,9.92,15.59,9.75,15.59z"/>
                <path d="M15.25,15.59c-0.17,0-0.35-0.04-0.51-0.13l-5.5-3.17c-0.32-0.18-0.44-0.6-0.25-0.92c0.18-0.32,0.6-0.44,0.92-0.25l5.5,3.17 c0.32,0.18,0.44,0.6,0.25,0.92C15.55,15.49,15.4,15.59,15.25,15.59z"/>
            </svg>
        </a>
    </div>

    <div id="soundboard"><h2>Loading Sounds...</h2></div>

<script>
    // The JavaScript remains exactly the same as the previous correct version.
    // It is already clean, robust, and uses the best "Single Player" pattern.
    document.addEventListener('DOMContentLoaded', () => {
        const soundboard = document.getElementById('soundboard');
        const audioPlayer = new Audio();
        let currentSrc = null;
        let activeContainer = null;

        const githubUser = 'jeffthepineapple';
        const githubRepo = 'Akshad';
        const soundsDirectory = 'sounds';
        const branch = 'main';

        const apiUrl = `https://api.github.com/repos/${githubUser}/${githubRepo}/contents/${soundsDirectory}?ref=${branch}`;

        fetch(apiUrl, { headers: { 'Accept': 'application/vnd.github+json' } })
        .then(response => {
            if (response.status === 403 && response.headers.get('X-RateLimit-Remaining') === '0') {
                throw new Error('GitHub rate-limit hit. Please try again in about a minute.');
            }
            if (!response.ok) throw new Error(`GitHub API error: ${response.status}`);
            return response.json();
        })
        .then(files => {
            soundboard.innerHTML = '';

            if (!Array.isArray(files) || files.length === 0) {
                soundboard.innerHTML = '<h2>No sounds found in the repository.</h2>';
                return;
            }

            files.forEach(file => {
                if (file.type !== 'file' || !/\.(mp3|wav|ogg)$/i.test(file.name)) return;

                const soundName = file.name.replace(/[-_]/g, ' ').replace(/\.(mp3|wav|ogg)$/i, '');
                const audioUrl = `https://raw.githubusercontent.com/${githubUser}/${githubRepo}/${branch}/${file.path}`;

                const container = document.createElement('div');
                container.className = 'sound-container';
                const label = document.createElement('div');
                label.className = 'sound-name';
                label.textContent = soundName;
                const controls = document.createElement('div');
                controls.className = 'controls';
                const playBtn = document.createElement('button');
                playBtn.className = 'control-button play-button';
                playBtn.innerHTML = '►'; // Play icon
                const pauseBtn = document.createElement('button');
                pauseBtn.className = 'control-button pause-button';
                pauseBtn.innerHTML = '⏸'; // Pause icon

                controls.append(playBtn, pauseBtn);
                container.append(label, controls);
                soundboard.appendChild(container);

                const updateUI = () => {
                    if (activeContainer) {
                        activeContainer.classList.remove('playing');
                    }
                    if (currentSrc === audioUrl && !audioPlayer.paused) {
                        container.classList.add('playing');
                        activeContainer = container;
                    } else if (activeContainer === container) {
                        activeContainer = null;
                    }
                };
                
                playBtn.addEventListener('click', () => {
                    if (currentSrc !== audioUrl) {
                        audioPlayer.src = audioUrl;
                        currentSrc = audioUrl;
                    }
                    audioPlayer.play().catch(err => console.error('Playback error:', err));
                });

                pauseBtn.addEventListener('click', () => {
                    if (currentSrc === audioUrl) audioPlayer.pause();
                });

                audioPlayer.addEventListener('play', updateUI);
                audioPlayer.addEventListener('pause', updateUI);
                audioPlayer.addEventListener('ended', updateUI);
            });
        })
        .catch(err => {
            soundboard.innerHTML = `<h2>${err.message}</h2>`;
            console.error('Soundboard setup error:', err);
        });
    });
</script>
</body>
</html>